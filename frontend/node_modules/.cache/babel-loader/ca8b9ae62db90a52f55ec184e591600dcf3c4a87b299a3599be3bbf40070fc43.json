{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"D:\\\\assignment\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport Navbar from \"../components/Navbar\";\nimport StockCard from \"../components/StockCard\";\nimport \"./Dashboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = ({\n  onLogout\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [stocks, setStocks] = useState([]);\n  const [prices, setPrices] = useState({});\n  const [subscribed, setSubscribed] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [connectionStatus, setConnectionStatus] = useState(\"Connecting...\");\n  const [portfolioValue, setPortfolioValue] = useState(0);\n  const navigate = useNavigate();\n  const token = sessionStorage.getItem(\"token\");\n  const API_URL = \"http://localhost:5000\";\n  useEffect(() => {\n    if (subscribed.length > 0 && Object.keys(prices).length > 0) {\n      const total = subscribed.reduce((sum, stock) => {\n        return sum + (prices[stock] || 0);\n      }, 0);\n      setPortfolioValue(total);\n    } else {\n      setPortfolioValue(0);\n    }\n  }, [prices, subscribed]);\n  useEffect(() => {\n    const userData = sessionStorage.getItem(\"user\");\n    if (userData) {\n      setUser(JSON.parse(userData));\n    }\n    const fetchInitialData = async () => {\n      try {\n        const stocksRes = await axios.get(`${API_URL}/api/stocks/supported`);\n        setStocks(stocksRes.data.stocks);\n        const pricesRes = await axios.get(`${API_URL}/api/stocks/prices`);\n        setPrices(pricesRes.data.prices);\n        if (token) {\n          const subsRes = await axios.get(`${API_URL}/api/user/subscriptions`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setSubscribed(subsRes.data.subscribedStocks);\n        }\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchInitialData();\n    const newSocket = io(API_URL, {\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5\n    });\n    setSocket(newSocket);\n    newSocket.on(\"connect\", () => {\n      console.log(\"Socket connected:\", newSocket.id);\n      setConnectionStatus(\"Connected\");\n      newSocket.emit(\"authenticate\", token);\n    });\n    newSocket.on(\"authenticated\", data => {\n      console.log(\"Socket authenticated successfully:\", data);\n      setConnectionStatus(\"Connected\");\n    });\n    newSocket.on(\"auth-error\", data => {\n      console.error(\"Socket authentication error:\", data);\n      setConnectionStatus(\"Authentication failed\");\n    });\n    newSocket.on(\"price-update\", data => {\n      console.log(\"Price update received at\", new Date(data.timestamp).toLocaleTimeString());\n      setPrices(data.prices);\n    });\n    newSocket.on(\"disconnect\", () => {\n      console.log(\"Socket disconnected\");\n      setConnectionStatus(\"Disconnected\");\n    });\n    newSocket.on(\"connect_error\", error => {\n      console.error(\"Socket connection error:\", error);\n      setConnectionStatus(\"Connection error\");\n    });\n    return () => {\n      console.log(\"Cleaning up socket connection\");\n      newSocket.disconnect();\n    };\n  }, [token]);\n  const handleSubscribe = async stockSymbol => {\n    try {\n      await axios.post(`${API_URL}/api/stocks/subscribe`, {\n        stockSymbol\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSubscribed([...subscribed, stockSymbol]);\n      socket === null || socket === void 0 ? void 0 : socket.emit(\"subscribe-stock\", stockSymbol);\n    } catch (error) {\n      alert(\"Failed to subscribe to stock\");\n    }\n  };\n  const handleUnsubscribe = async stockSymbol => {\n    try {\n      await axios.post(`${API_URL}/api/stocks/unsubscribe`, {\n        stockSymbol\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSubscribed(subscribed.filter(s => s !== stockSymbol));\n    } catch (error) {\n      alert(\"Failed to unsubscribe from stock\");\n    }\n  };\n  const handleLogout = () => {\n    if (socket) {\n      socket.disconnect();\n    }\n    sessionStorage.clear();\n    onLogout();\n    navigate(\"/\");\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        user: user,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading your portfolio...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      user: user,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"dashboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dashboard-title\",\n          children: \"Your Stock Portfolio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dashboard-subtitle\",\n          children: \"Subscribe to stocks and track real-time prices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), subscribed.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"portfolio-value-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"portfolio-value-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"portfolio-label\",\n              children: \"Total Portfolio Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"portfolio-amount\",\n              children: [\"$\", portfolioValue.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), subscribed.length > 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"subscribed-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-label\",\n          children: \"Your Subscribed Stocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stocks-grid\",\n          children: subscribed.map(stock => /*#__PURE__*/_jsxDEV(StockCard, {\n            stock: stock,\n            price: prices[stock] || 0,\n            onSubscribe: handleSubscribe,\n            onUnsubscribe: handleUnsubscribe,\n            isSubscribed: true\n          }, stock, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"available-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-label\",\n          children: \"All Available Stocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stocks-grid\",\n          children: stocks.map(stock => /*#__PURE__*/_jsxDEV(StockCard, {\n            stock: stock,\n            price: prices[stock] || 0,\n            onSubscribe: handleSubscribe,\n            onUnsubscribe: handleUnsubscribe,\n            isSubscribed: subscribed.includes(stock)\n          }, stock, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"v0RMFHuq6fCzTyc744FIYtog0K0=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useNavigate","axios","io","Navbar","StockCard","jsxDEV","_jsxDEV","Dashboard","onLogout","user","setUser","stocks","setStocks","prices","setPrices","subscribed","setSubscribed","socket","setSocket","loading","setLoading","connectionStatus","setConnectionStatus","portfolioValue","setPortfolioValue","navigate","token","sessionStorage","getItem","API_URL","length","Object","keys","total","reduce","sum","stock","userData","JSON","parse","fetchInitialData","stocksRes","get","data","pricesRes","subsRes","headers","Authorization","subscribedStocks","error","console","newSocket","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","on","log","id","emit","Date","timestamp","toLocaleTimeString","disconnect","handleSubscribe","stockSymbol","post","alert","handleUnsubscribe","filter","s","handleLogout","clear","className","children","fileName","lineNumber","columnNumber","toFixed","map","price","onSubscribe","onUnsubscribe","isSubscribed","includes","_c","$RefreshReg$"],"sources":["D:/assignment/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport axios from \"axios\"\nimport io from \"socket.io-client\"\nimport Navbar from \"../components/Navbar\"\nimport StockCard from \"../components/StockCard\"\nimport \"./Dashboard.css\"\n\nconst Dashboard = ({ onLogout }) => {\n  const [user, setUser] = useState(null)\n  const [stocks, setStocks] = useState([])\n  const [prices, setPrices] = useState({})\n  const [subscribed, setSubscribed] = useState([])\n  const [socket, setSocket] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [connectionStatus, setConnectionStatus] = useState(\"Connecting...\")\n  const [portfolioValue, setPortfolioValue] = useState(0)\n  const navigate = useNavigate()\n\n  const token = sessionStorage.getItem(\"token\")\n  const API_URL = \"http://localhost:5000\"\n\n  useEffect(() => {\n    if (subscribed.length > 0 && Object.keys(prices).length > 0) {\n      const total = subscribed.reduce((sum, stock) => {\n        return sum + (prices[stock] || 0)\n      }, 0)\n      setPortfolioValue(total)\n    } else {\n      setPortfolioValue(0)\n    }\n  }, [prices, subscribed])\n\n  useEffect(() => {\n    const userData = sessionStorage.getItem(\"user\")\n    if (userData) {\n      setUser(JSON.parse(userData))\n    }\n\n    const fetchInitialData = async () => {\n      try {\n        const stocksRes = await axios.get(`${API_URL}/api/stocks/supported`)\n        setStocks(stocksRes.data.stocks)\n\n        const pricesRes = await axios.get(`${API_URL}/api/stocks/prices`)\n        setPrices(pricesRes.data.prices)\n\n        if (token) {\n          const subsRes = await axios.get(`${API_URL}/api/user/subscriptions`, {\n            headers: { Authorization: `Bearer ${token}` },\n          })\n          setSubscribed(subsRes.data.subscribedStocks)\n        }\n      } catch (error) {\n        console.error(\"Error fetching data:\", error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchInitialData()\n\n    const newSocket = io(API_URL, {\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5,\n    })\n\n    setSocket(newSocket)\n\n    newSocket.on(\"connect\", () => {\n      console.log(\"Socket connected:\", newSocket.id)\n      setConnectionStatus(\"Connected\")\n      newSocket.emit(\"authenticate\", token)\n    })\n\n    newSocket.on(\"authenticated\", (data) => {\n      console.log(\"Socket authenticated successfully:\", data)\n      setConnectionStatus(\"Connected\")\n    })\n\n    newSocket.on(\"auth-error\", (data) => {\n      console.error(\"Socket authentication error:\", data)\n      setConnectionStatus(\"Authentication failed\")\n    })\n\n    newSocket.on(\"price-update\", (data) => {\n      console.log(\"Price update received at\", new Date(data.timestamp).toLocaleTimeString())\n      setPrices(data.prices)\n    })\n\n    newSocket.on(\"disconnect\", () => {\n      console.log(\"Socket disconnected\")\n      setConnectionStatus(\"Disconnected\")\n    })\n\n    newSocket.on(\"connect_error\", (error) => {\n      console.error(\"Socket connection error:\", error)\n      setConnectionStatus(\"Connection error\")\n    })\n\n    return () => {\n      console.log(\"Cleaning up socket connection\")\n      newSocket.disconnect()\n    }\n  }, [token])\n\n  const handleSubscribe = async (stockSymbol) => {\n    try {\n      await axios.post(\n        `${API_URL}/api/stocks/subscribe`,\n        { stockSymbol },\n        { headers: { Authorization: `Bearer ${token}` } },\n      )\n      setSubscribed([...subscribed, stockSymbol])\n      socket?.emit(\"subscribe-stock\", stockSymbol)\n    } catch (error) {\n      alert(\"Failed to subscribe to stock\")\n    }\n  }\n\n  const handleUnsubscribe = async (stockSymbol) => {\n    try {\n      await axios.post(\n        `${API_URL}/api/stocks/unsubscribe`,\n        { stockSymbol },\n        { headers: { Authorization: `Bearer ${token}` } },\n      )\n      setSubscribed(subscribed.filter((s) => s !== stockSymbol))\n    } catch (error) {\n      alert(\"Failed to unsubscribe from stock\")\n    }\n  }\n\n  const handleLogout = () => {\n    if (socket) {\n      socket.disconnect()\n    }\n    sessionStorage.clear()\n    onLogout()\n    navigate(\"/\")\n  }\n\n  if (loading) {\n    return (\n      <div className=\"dashboard\">\n        <Navbar user={user} onLogout={handleLogout} />\n        <div className=\"loading\">\n          <div className=\"spinner\"></div>\n          <p>Loading your portfolio...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <Navbar user={user} onLogout={handleLogout} />\n\n      <main className=\"dashboard-content\">\n        <div className=\"dashboard-header\">\n          <h1 className=\"dashboard-title\">Your Stock Portfolio</h1>\n          <p className=\"dashboard-subtitle\">Subscribe to stocks and track real-time prices</p>\n          \n          {subscribed.length > 0 && (\n            <div className=\"portfolio-value-container\">\n              <div className=\"portfolio-value-box\">\n                <span className=\"portfolio-label\">Total Portfolio Value</span>\n                <span className=\"portfolio-amount\">${portfolioValue.toFixed(2)}</span>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {subscribed.length > 0 && (\n          <section className=\"subscribed-section\">\n            <h2 className=\"section-label\">Your Subscribed Stocks</h2>\n            <div className=\"stocks-grid\">\n              {subscribed.map((stock) => (\n                <StockCard\n                  key={stock}\n                  stock={stock}\n                  price={prices[stock] || 0}\n                  onSubscribe={handleSubscribe}\n                  onUnsubscribe={handleUnsubscribe}\n                  isSubscribed={true}\n                />\n              ))}\n            </div>\n          </section>\n        )}\n\n        <section className=\"available-section\">\n          <h2 className=\"section-label\">All Available Stocks</h2>\n          <div className=\"stocks-grid\">\n            {stocks.map((stock) => (\n              <StockCard\n                key={stock}\n                stock={stock}\n                price={prices[stock] || 0}\n                onSubscribe={handleSubscribe}\n                onUnsubscribe={handleUnsubscribe}\n                isSubscribed={subscribed.includes(stock)}\n              />\n            ))}\n          </div>\n        </section>\n      </main>\n    </div>\n  )\n}\n\nexport default Dashboard\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}